utility function for version 1
utility function for version 2